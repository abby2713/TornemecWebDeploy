(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9],{1324:(e,a,s)=>{Promise.resolve().then(s.bind(s,2266))},2266:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>h});var n=s(5155),r=s(2115);s(1071);var t=s(9757),l=s(5055);let i=e=>{let{user:a,onEdit:s,onDelete:r}=e,{id:i,name:c,lastname:o,username:d,phone:m,role:u,image:h}=a;return(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("div",{className:"imageContainer",children:(0,n.jsx)("img",{src:"https://v14m7300-4000.brs.devtunnels.ms".concat(h),alt:"Usuario",width:"300"})}),(0,n.jsxs)("div",{className:"details",children:[(0,n.jsx)("h3",{className:"title",children:c+" "+o}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Usuario: "})," ",d]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Celular: "})," ",m]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Rol: "})," ",u]})]}),(0,n.jsxs)("div",{className:"form-buttons",style:{display:"flex",gap:"5px",justifyContent:"center",padding:"10px"},children:[(0,n.jsxs)("button",{className:"form-button-primary",style:{flex:1,minWidth:"100px",padding:"8px 12px"},onClick:()=>s(i),children:[(0,n.jsx)(t.g,{icon:l.MT7})," Editar"]}),(0,n.jsxs)("button",{className:"form-button-primary",style:{flex:1,minWidth:"100px",padding:"8px 12px"},onClick:()=>r(i),children:[(0,n.jsx)(t.g,{icon:l.BeE})," Eliminar"]})]})]})]})};var c=s(5370);function o(e){let{onClose:a,onUserRegistered:s}=e,[t,l]=(0,r.useState)({name:"",lastname:"",secondlastname:"",image:null,rolId:"",branchId:"",phone:"",email:""}),[i,o]=(0,r.useState)([]),[d,m]=(0,r.useState)([]),[u,h]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=async()=>{try{let{status:e,data:a}=await (0,c.O0)();200===e&&o(a)}catch(e){console.error("Error al cargar roles:",e)}};(async()=>{try{let{status:e,data:a}=await (0,c.p9)();200===e&&m(a)}catch(e){console.error("Error al cargar sucursales:",e)}finally{h(!1)}})(),e()},[]),(0,r.useEffect)(()=>()=>{var e;(null===(e=t.image)||void 0===e?void 0:e.url)&&URL.revokeObjectURL(t.image.url)},[t.image]);let p=()=>{let e=i.find(e=>e.id===t.rolId);return(null==e?void 0:e.name.toLowerCase())==="trabajador"};(0,r.useEffect)(()=>{p()&&l(e=>({...e,email:"trabajador@gmail.com"}))},[t.rolId,i]);let x=e=>{let{name:a,value:s}=e.target;l(e=>({...e,[a]:""===s?null:s}))},j=async e=>{if(e.preventDefault(),!t.name||!t.lastname||!t.rolId||!t.branchId){alert("Por favor completa todos los campos obligatorios.");return}if(!/^\d{8}$/.test(t.phone)){alert("El n\xfamero de celular debe tener 8 d\xedgitos.");return}let n=new FormData;Object.entries(t).forEach(e=>{let[a,s]=e;"image"!==a&&n.append(a,s)}),t.image&&n.append("image",t.image.file);try{let e=await (0,c.kg)(n);201===e.status?(alert("Registro exitoso âœ…"),s(),a()):alert("Hubo un error al registrar el usuario.")}catch(e){console.error("Error al enviar los datos:",e),alert("Hubo un error al enviar los datos.")}};return(0,n.jsxs)("div",{className:"create-item-container",children:[(0,n.jsx)("h2",{className:"form-title",children:"REGISTRO DE USUARIO"}),(0,n.jsxs)("form",{className:"form",onSubmit:j,children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{className:"form-label",children:["Nombre: ",(0,n.jsx)("span",{className:"required",children:"*"})]}),(0,n.jsx)("input",{type:"text",name:"name",value:t.name||"",onChange:x,className:"form-input",required:!0})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{className:"form-label",children:["Primer Apellido: ",(0,n.jsx)("span",{className:"required",children:"*"})]}),(0,n.jsx)("input",{type:"text",name:"lastname",value:t.lastname||"",onChange:x,className:"form-input",required:!0})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"form-label",children:"Segundo Apellido:"}),(0,n.jsx)("input",{type:"text",name:"secondlastname",value:t.secondlastname||"",onChange:x,className:"form-input"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{className:"form-label",children:["Celular: ",(0,n.jsx)("span",{className:"required",children:"*"})]}),(0,n.jsx)("input",{type:"text",name:"phone",value:t.phone||"",onChange:x,className:"form-input",required:!0})]}),!p()&&(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"form-label",children:"Gmail:"}),(0,n.jsx)("input",{type:"email",name:"email",value:t.email||"",onChange:x,className:"form-input"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{className:"form-label",children:["Rol: ",(0,n.jsx)("span",{className:"required",children:"*"})]}),(0,n.jsxs)("select",{name:"rolId",value:t.rolId||"",onChange:x,className:"form-select",required:!0,children:[(0,n.jsx)("option",{value:"",children:"Selecciona un Rol"}),i.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{className:"form-label",children:["Sucursal: ",(0,n.jsx)("span",{className:"required",children:"*"})]}),(0,n.jsxs)("select",{name:"branchId",value:t.branchId||"",onChange:x,className:"form-select",required:!0,children:[(0,n.jsx)("option",{value:"",children:"Selecciona una Sucursal"}),d.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"form-label",children:"Imagen:"}),(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let a=e.target.files[0];a&&l(e=>({...e,image:{file:a,url:URL.createObjectURL(a)}}))},className:"form-input"})]}),t.image&&(0,n.jsx)("div",{className:"image-preview-container",children:(0,n.jsxs)("div",{className:"image-preview-item",children:[(0,n.jsx)("img",{src:t.image.url,alt:"Imagen seleccionada",style:{width:"100px",height:"100px",objectFit:"cover"}}),(0,n.jsx)("button",{type:"button",className:"remove-image-button",onClick:()=>{l(e=>({...e,image:null}))},children:"X"})]})}),(0,n.jsxs)("div",{className:"form-buttons",children:[(0,n.jsx)("button",{type:"submit",className:"form-button form-button-primary",children:"Registrar"}),(0,n.jsx)("button",{type:"button",className:"form-button form-button-secondary",onClick:a,children:"Cancelar"})]})]})]})}function d(e){let{userId:a,onClose:s,onUserUpdated:t}=e,[l,i]=(0,r.useState)({name:"",lastname:"",secondlastname:"",username:"",phone:"",rolid:"",branchid:"",state:1}),[o,d]=(0,r.useState)([]),[m,u]=(0,r.useState)([]),[h,p]=(0,r.useState)([]),[x,j]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=async()=>{d((await (0,c.O0)()).data||[]),u((await (0,c.p9)()).data||[])};(async()=>{let e=await (0,c.kl)(a);i(a=>({...a,name:e.name||"",lastname:e.lastname||e.lastName||"",secondlastname:e.secondlastname||"",username:e.username||e.userName||"",phone:e.phone||"",rolid:e.rolid||e.rolid||"",branchid:e.branchid||e.branchid||"",state:e.state||1})),e.image?p([{url:"https://v14m7300-4000.brs.devtunnels.ms".concat(e.image),id:e.image}]):Array.isArray(e.images)&&p(e.images.map(e=>({url:"https://v14m7300-4000.brs.devtunnels.ms".concat(e),id:e})))})(),e()},[a]);let f=e=>{let{name:a,value:s}=e.target;i(e=>({...e,[a]:s}))},b=e=>{p(a=>a.filter(a=>a.id!==e))},g=e=>{j(a=>a.filter((a,s)=>s!==e))},v=async e=>{e.preventDefault();let n=new FormData;Object.entries(l).forEach(e=>{let[a,s]=e;null!=s&&n.append(a,s)}),x.forEach(e=>{let{file:a}=e;n.append("images",a)});let r=h.map(e=>e.id);n.append("existingImages",JSON.stringify(r));try{let e=await (0,c.TK)(a,n);200===e.status?(alert("Usuario actualizado correctamente"),t(),s()):alert("Error al actualizar usuario")}catch(e){console.error("Error:",e),alert("Error de red o del servidor")}};return(0,n.jsxs)("div",{className:"create-item-container",children:[(0,n.jsx)("h2",{className:"form-title",children:"Editar Usuario"}),(0,n.jsxs)("form",{className:"form",onSubmit:v,children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"form-label",children:"Nombre:"}),(0,n.jsx)("input",{name:"name",value:l.name,onChange:f,required:!0,className:"form-input"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"form-label",children:"Primer Apellido:"}),(0,n.jsx)("input",{name:"lastname",value:l.lastname,onChange:f,required:!0,className:"form-input"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"form-label",children:"Segundo Apellido:"}),(0,n.jsx)("input",{name:"secondlastname",value:l.secondlastname,onChange:f,className:"form-input"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"form-label",children:"Celular:"}),(0,n.jsx)("input",{name:"phone",value:l.phone,onChange:f,required:!0,className:"form-input"})]}),!(()=>{let e=o.find(e=>e.id===l.rolid);return(null==e?void 0:e.name.toLowerCase())==="trabajador"})()&&(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"form-label",children:"Rol:"}),(0,n.jsxs)("select",{name:"rolid",value:l.rolid,onChange:f,className:"form-input",children:[(0,n.jsx)("option",{value:"",children:"Rol"}),o.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"form-label",children:"Sucursal:"}),(0,n.jsxs)("select",{name:"branchid",value:l.branchid,onChange:f,className:"form-input",children:[(0,n.jsx)("option",{value:"",children:"Sucursal"}),m.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"form-label",children:"Cambiar Foto:"}),(0,n.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{let a=Array.from(e.target.files).map(e=>({file:e,url:URL.createObjectURL(e)}));j(e=>[...e,...a])},className:"form-input"})]}),(0,n.jsxs)("div",{className:"preview-container",children:[x.map((e,a)=>{let{url:s}=e;return(0,n.jsxs)("div",{className:"preview-item",children:[(0,n.jsx)("img",{src:s,alt:"Preview ".concat(a),className:"preview-media"}),(0,n.jsx)("button",{type:"button",className:"remove-button",onClick:()=>g(a),children:"X"})]},a)}),h.map((e,a)=>(0,n.jsxs)("div",{className:"preview-item",children:[(0,n.jsx)("img",{src:e.url,alt:"Imagen existente ".concat(a),className:"preview-media"}),(0,n.jsx)("button",{type:"button",className:"remove-button",onClick:()=>b(e.id),children:"X"})]},e.id||a))]}),(0,n.jsxs)("div",{className:"form-buttons",children:[(0,n.jsx)("button",{type:"submit",className:"form-button form-button-primary",children:"Actualizar"}),(0,n.jsx)("button",{type:"button",className:"form-button form-button-secondary",onClick:s,children:"Cancelar"})]})]})]})}function m(e){let{userId:a,onClose:s,onUserDeleted:r}=e,t=async()=>{try{let e=await (0,c.hG)(a);200===e.status?(alert("Usuario eliminado correctamente"),r(),s()):alert("No se pudo eliminar el usuario")}catch(e){console.error("Error al eliminar usuario:",e),alert("Hubo un error al eliminar el usuario")}};return(0,n.jsxs)("div",{className:"create-item-container",children:[(0,n.jsx)("h2",{className:"form-title",children:"\xbfDesea Eliminar el Registro?"}),(0,n.jsx)("form",{className:"form",onSubmit:t,children:(0,n.jsxs)("div",{className:"form-buttons",children:[(0,n.jsx)("button",{type:"submit",className:"form-button form-button-primary",children:"Aceptar"}),(0,n.jsx)("button",{type:"button",className:"form-button form-button-secondary",onClick:s,children:"Cancelar"})]})})]})}s(5527),s(5572);var u=s(4060);function h(){let[e,a]=(0,r.useState)(!1),[s,h]=(0,r.useState)(!1),[p,x]=(0,r.useState)(!1),[j,f]=(0,r.useState)(null),[b,g]=(0,r.useState)([]),[v,N]=(0,r.useState)(!0),[y,C]=(0,r.useState)(null),[w,S]=(0,r.useState)("cards"),[A,E]=(0,r.useState)(""),[k,R]=(0,r.useState)(""),U=async()=>{try{let e=await (0,c.lo)();if(e.data){let a=e.data.sort((e,a)=>e.id-a.id);g(a)}else g([])}catch(e){C(e.message)}finally{N(!1)}};(0,r.useEffect)(()=>{U()},[]);let I=e=>{f(e),h(!0)},O=e=>{f(e),x(!0)},D=b.filter(e=>{let a=(e.name+" "+e.lastname).toLowerCase(),s=e.username.toLowerCase(),n=A.toLowerCase(),r=a.includes(n)||s.includes(n),t=""===k||e.role===k;return r&&t}),L=[...new Set(b.map(e=>e.role))];return(0,n.jsx)(u.A,{children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"titles",children:"USUARIOS"}),(0,n.jsxs)("div",{className:"almacen-header",children:[(0,n.jsx)("button",{onClick:()=>a(!0),className:"new-item-button",children:"Nuevo Usuario"}),(0,n.jsxs)("div",{className:"view-switch",children:[(0,n.jsx)("button",{className:"view-button ".concat("cards"===w?"active":""),onClick:()=>S("cards"),children:"Tarjetas"}),(0,n.jsx)("button",{className:"view-button ".concat("table"===w?"active":""),onClick:()=>S("table"),children:"Tabla"})]}),(0,n.jsxs)("div",{className:"search-container",children:[(0,n.jsx)(t.g,{icon:l.MjD,className:"search-icon"}),(0,n.jsx)("input",{type:"text",className:"search-bar",placeholder:"Buscar...",value:A,onChange:e=>E(e.target.value)})]}),(0,n.jsx)("div",{className:"search-container",style:{marginLeft:"10px"},children:(0,n.jsxs)("select",{className:"search-bar",value:k,onChange:e=>R(e.target.value),children:[(0,n.jsx)("option",{value:"",children:"Todos los Roles"}),L.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})})]}),e&&(0,n.jsx)("div",{className:"modal-overlay",children:(0,n.jsxs)("div",{className:"modal-content",children:[(0,n.jsx)("button",{onClick:()=>a(!1),className:"close-button",children:"\xd7"}),(0,n.jsx)(o,{onClose:()=>a(!1),onUserRegistered:U})]})}),s&&(0,n.jsx)("div",{className:"modal-overlay",children:(0,n.jsxs)("div",{className:"modal-content",children:[(0,n.jsx)("button",{onClick:()=>h(!1),className:"close-button",children:"\xd7"}),(0,n.jsx)(d,{userId:j,onClose:()=>h(!1),onUserUpdated:U})]})}),p&&(0,n.jsx)("div",{className:"modal-overlay",children:(0,n.jsxs)("div",{className:"modal-content",children:[(0,n.jsx)("button",{onClick:()=>x(!1),className:"close-button",children:"\xd7"}),(0,n.jsx)(m,{userId:j,onClose:()=>x(!1),onUserDeleted:U})]})}),(0,n.jsx)("div",{className:"outerContainer",children:"cards"===w?(0,n.jsx)("div",{className:"innerContainer",children:D.map(e=>(0,n.jsx)(i,{user:e,onEdit:I,onDelete:O},e.id))}):(0,n.jsx)("div",{className:"table-wrapper",children:(0,n.jsxs)("table",{className:"styled-table",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"ID"}),(0,n.jsx)("th",{children:"Nombre"}),(0,n.jsx)("th",{children:"Nombre Usuario"}),(0,n.jsx)("th",{children:"Celular"}),(0,n.jsx)("th",{children:"Rol"}),(0,n.jsx)("th",{children:"Acciones"})]})}),(0,n.jsx)("tbody",{children:D.map((e,a)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:a+1}),(0,n.jsxs)("td",{children:[e.name," ",e.lastname]}),(0,n.jsx)("td",{children:e.username}),(0,n.jsx)("td",{children:e.phone}),(0,n.jsx)("td",{children:e.role}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("button",{className:"form-button-primary",style:{minWidth:"100px",padding:"8px 12px",marginRight:"2px"},onClick:()=>I(e.id),children:[(0,n.jsx)(t.g,{icon:l.MT7})," Editar"]}),(0,n.jsxs)("button",{className:"form-button-primary",style:{minWidth:"100px",padding:"8px 12px"},onClick:()=>O(e.id),children:[(0,n.jsx)(t.g,{icon:l.BeE})," Eliminar"]})]})]},e.id))})]})})})]})})}},4060:(e,a,s)=>{"use strict";s.d(a,{A:()=>x});var n=s(5155),r=s(6046),t=s(2115),l=s(8173),i=s.n(l),c=s(9757),o=s(5055),d=s(5565);let m={src:"/_next/static/media/logo.3adaab63.png",height:100,width:100,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAARVBMVEX9/PzZdXj////9+fn55+hMaXHwz9D//////v7//f7svb/219v46On509X////RUlngkpXdgYb+8vPOTlX92dzVZGrprrIgseqOAAAADXRSTlMu+bXs/QD+rvH5/urq2zavewAAAAlwSFlzAAALEwAACxMBAJqcGAAAAD9JREFUeJwFwQkCgCAIAME1QdDCq+P/T20G5aj1QCE/IuFgke6RtuExxzu34/1bq/WMVSnFu8EZpckFirkb+gNMYwIfjEe+YgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8};s(3999);var u=s(6699),h=s.n(u);function p(e){let{children:a}=e,s=(0,r.usePathname)(),l=(0,r.useRouter)(),[u,p]=(0,t.useState)(""),[x,j]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let e=sessionStorage.getItem("name"),a=sessionStorage.getItem("lastname");e&&a&&p("".concat(e.toUpperCase()," ").concat(a.toUpperCase()))},[]);let f=()=>{window.innerWidth<768&&j(!1)};return(0,n.jsxs)("div",{className:"layout ".concat(h().className),children:[(0,n.jsxs)("div",{className:"header",children:[(0,n.jsxs)("div",{className:"header-left",children:[(0,n.jsx)(c.g,{icon:o.ckx,className:"menu-icon",onClick:()=>j(!x)}),(0,n.jsx)(d.default,{src:m,alt:"Logo Tornemec",className:"logo"}),(0,n.jsxs)("span",{className:"company-name",children:["TORNEMEC",(0,n.jsx)("small",{children:" SRL"})]})]}),(0,n.jsxs)("div",{className:"header-right",children:[(0,n.jsx)("span",{className:"user-name",children:u}),(0,n.jsx)(c.g,{icon:o.X46,className:"icon"}),(0,n.jsxs)("div",{className:"logout-container",onClick:()=>{confirm("\xbfSeguro que deseas cerrar sesi\xf3n?")&&(sessionStorage.clear(),l.push("/"))},children:[(0,n.jsx)(c.g,{icon:o.GxD,className:"logout-icon"}),(0,n.jsx)("span",{className:"logout-text",children:"CERRAR SESI\xd3N"})]})]})]}),(0,n.jsxs)("div",{className:"content",children:[(0,n.jsx)("div",{className:"sidebar ".concat(x?"open":""),children:(0,n.jsx)("div",{className:"fixed",children:(0,n.jsx)("nav",{children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{className:"sidebar-item ".concat("/inventory"===s?"active":""),children:(0,n.jsxs)(i(),{href:"/inventory",onClick:f,children:[(0,n.jsx)(c.g,{icon:o.KTq,className:"iconSidebar"}),(0,n.jsx)("span",{children:"Inventario"})]})}),(0,n.jsx)("li",{className:"sidebar-item ".concat("/store"===s?"active":""),children:(0,n.jsxs)(i(),{href:"/store",onClick:f,children:[(0,n.jsx)(c.g,{icon:o.LJS,className:"iconSidebar"}),(0,n.jsx)("span",{children:"Almac\xe9n"})]})}),(0,n.jsx)("li",{className:"sidebar-item ".concat("/users"===s?"active":""),children:(0,n.jsxs)(i(),{href:"/users",onClick:f,children:[(0,n.jsx)(c.g,{icon:o.gdJ,className:"iconSidebar"}),(0,n.jsx)("span",{children:"Usuarios"})]})}),(0,n.jsx)("li",{className:"sidebar-item ".concat("/report"===s?"active":""),children:(0,n.jsxs)(i(),{href:"/report",onClick:f,children:[(0,n.jsx)(c.g,{icon:o.h8M,className:"iconSidebar"}),(0,n.jsx)("span",{children:"Reporte"})]})})]})})})}),(0,n.jsx)("div",{className:"main-content",children:a})]})]})}function x(e){let{children:a}=e,s=(0,r.usePathname)(),l=(0,r.useRouter)(),[i,c]=(0,t.useState)(!0);return((0,t.useEffect)(()=>{sessionStorage.getItem("isAuthenticated")||"/"===s?c(!1):l.push("/")},[s,l]),i)?(0,n.jsx)("p",{children:"Cargando..."}):"/"===s?(0,n.jsx)(n.Fragment,{children:a}):(0,n.jsx)(p,{children:a})}},5370:(e,a,s)=>{"use strict";s.d(a,{$O:()=>R,B_:()=>C,Dv:()=>N,F4:()=>y,Gq:()=>j,JS:()=>x,LD:()=>g,O0:()=>k,Op:()=>w,RG:()=>O,Rn:()=>A,TK:()=>u,bW:()=>v,fk:()=>b,hG:()=>p,ik:()=>D,kg:()=>m,kl:()=>h,lX:()=>U,lo:()=>d,p9:()=>E,pr:()=>o,qZ:()=>I,te:()=>S,wE:()=>f});let n="https://v14m7300-4000.brs.devtunnels.ms";async function r(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="".concat(n,"/").concat(e);try{let e=await fetch(s,a),n=await e.json();return{status:e.status,data:n}}catch(e){throw console.error("Error en la solicitud:",e),e}}async function t(e){return r(e,{method:"GET"})}async function l(e,a){let s=a instanceof FormData;return r(e,{method:"POST",headers:s?void 0:{"Content-Type":"application/json"},body:s?a:JSON.stringify(a)})}async function i(e,a){let s=a instanceof FormData;return r(e,{method:"PUT",headers:s?void 0:{"Content-Type":"application/json"},body:s?a:JSON.stringify(a)})}async function c(e){return r(e,{method:"DELETE"})}async function o(e,a){return l("auth/login",{username:e,password:a})}async function d(){return t("activos")}async function m(e){return l("users",e)}let u=(e,a)=>{let s=a instanceof FormData;return fetch("".concat(n,"/users/").concat(e),{method:"PUT",headers:s?void 0:{"Content-Type":"application/json"},body:s?a:JSON.stringify(a)}).then(async e=>{let a=await e.json();if(!e.ok)throw Error(a.message||"Error al actualizar usuario");return{status:e.status,data:a}})},h=async e=>{let a=await fetch("https://v14m7300-4000.brs.devtunnels.ms/users/".concat(e));if(!a.ok)throw Error("No se pudo obtener el usuario");return a.json()};async function p(e){return c("users/".concat(e))}async function x(){return t("items")}async function j(e){return t("items/".concat(e))}async function f(e){return l("items",e)}async function b(e,a){return i("items/".concat(e),a)}async function g(e){return c("items/".concat(e))}async function v(e){return t("categories/".concat(e))}async function N(e){return t("stores/".concat(e))}async function y(){return t("machines")}async function C(e){return t("machines/".concat(e))}async function w(e){return l("machines",e)}async function S(e,a){return i("machines/".concat(e),a)}async function A(e){return c("machines/".concat(e))}async function E(){return t("branches")}async function k(){return t("roles")}let R=async e=>{let{userId:a,month:s,year:n,mode:r}=e,t=new URLSearchParams;a&&t.append("userId",a),s&&"month"===r&&t.append("month",s),n&&t.append("year",n),r&&t.append("mode",r);let l=await fetch("https://v14m7300-4000.brs.devtunnels.ms/api/transactions/report?".concat(t.toString()));if(!l.ok)throw Error("Error al obtener datos");return l.json()},U=async e=>{let a=await fetch("https://v14m7300-4000.brs.devtunnels.ms/api/transactions/report/item-movements?itemId=".concat(e));if(!a.ok)throw Error("No se pudo obtener el reporte de movimientos del \xedtem");return a.json()},I=async e=>{let{userId:a,month:s,year:r,codigoitem:t}=e,l=new URLSearchParams;a&&l.append("userId",a),s&&l.append("month",s),r&&l.append("year",r),t&&l.append("codigoitem",t);let i=await fetch("".concat(n,"/api/transactions/report/user-detailed?").concat(l.toString()));if(!i.ok)throw Error("No se pudo obtener el reporte detallado del usuario");return i.json()},O=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=new URLSearchParams(e).toString(),s=await fetch("https://v14m7300-4000.brs.devtunnels.ms/api/transactions/report/all-transactions?".concat(a));if(!s.ok)throw Error("No se pudo obtener el reporte completo");return s.json()},D=async(e,a,s,n,r)=>{let t=new URLSearchParams;a&&t.append("year",a),s&&t.append("month",s),n&&t.append("userid",n),r&&t.append("branchId",r);let l="https://v14m7300-4000.brs.devtunnels.ms/api/reportes/asignaciones/".concat(e,"?").concat(t.toString()),i=await fetch(l);if(!i.ok)throw Error("No se pudo obtener el reporte de asignaciones");return i.json()}},1071:()=>{},5572:()=>{},5527:()=>{},3999:()=>{}},e=>{var a=a=>e(e.s=a);e.O(0,[777,79,266,738,803,441,517,358],()=>a(1324)),_N_E=e.O()}]);