(()=>{var e={};e.id=974,e.ids=[974],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},7158:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_d6db35"}},2521:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>c});var n=r(260),s=r(8203),o=r(5155),a=r.n(o),i=r(7292),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9337)),"C:\\Users\\Ideapad\\OneDrive\\Documentos\\GitHub\\Deploy\\TornemecWebDeploy\\src\\app\\page.js"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,2804)),"C:\\Users\\Ideapad\\OneDrive\\Documentos\\GitHub\\Deploy\\TornemecWebDeploy\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["C:\\Users\\Ideapad\\OneDrive\\Documentos\\GitHub\\Deploy\\TornemecWebDeploy\\src\\app\\page.js"],d={require:r,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},249:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3219,23)),Promise.resolve().then(r.t.bind(r,4863,23)),Promise.resolve().then(r.t.bind(r,5155,23)),Promise.resolve().then(r.t.bind(r,802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,8530,23)),Promise.resolve().then(r.t.bind(r,8921,23))},521:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6959,23)),Promise.resolve().then(r.t.bind(r,3875,23)),Promise.resolve().then(r.t.bind(r,8903,23)),Promise.resolve().then(r.t.bind(r,7174,23)),Promise.resolve().then(r.t.bind(r,4178,23)),Promise.resolve().then(r.t.bind(r,7190,23)),Promise.resolve().then(r.t.bind(r,1365,23))},7962:(e,t,r)=>{Promise.resolve().then(r.bind(r,9337))},6418:(e,t,r)=>{Promise.resolve().then(r.bind(r,1487))},6487:()=>{},8335:()=>{},1487:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var n=r(5512),s=r(6576),o=r.n(s),a=r(9334),i=r(8009),l=r(62),c=r(5103);let u={src:"/_next/static/media/banner.9733a119.png",height:924,width:825,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAMAAAAC2hU0AAAAPFBMVEWBe3ZcWFRvYVZYS0NlXl5BNS6dmJM7KipGQUBsamiUkY8wJCMaExF3Z2R4cmqRhXeekIhSPS5HPTK2vMHu1COwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAOUlEQVR4nAXBBwKAIAwAsQNaOpjq//9qAsF+3YnMqwRFb627E3M9RxalteZmjEovarjwiQ2S093mDzY2AaWGv2u0AAAAAElFTkSuQmCC",blurWidth:7,blurHeight:8};var d=r(7158),p=r.n(d),m={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},h=i.createContext&&i.createContext(m),f=["attr","size","title"];function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){var n,s;n=t,s=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e){return t=>i.createElement(w,v({attr:b({},e.attr)},t),function e(t){return t&&t.map((t,r)=>i.createElement(t.tag,b({key:r},t.attr),e(t.child)))}(e.child))}function w(e){var t=t=>{var r,{attr:n,size:s,title:o}=e,a=function(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,f),l=s||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),i.createElement("svg",v({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,a,{className:r,style:b(b({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&i.createElement("title",null,o),e.children)};return void 0!==h?i.createElement(h.Consumer,null,e=>t(e)):t(m)}function j(e){return g({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function x(e){return g({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function _(){let e=(0,a.useRouter)(),[t,r]=(0,i.useState)(""),[s,d]=(0,i.useState)(""),[m,h]=(0,i.useState)(""),[f,v]=(0,i.useState)(!1),y=async r=>{if(r.preventDefault(),h(""),!t||!s){h("Usuario y contrase\xf1a son obligatorios.");return}try{v(!0);let r=await (0,l.pr)(t,s);200===r.status?(sessionStorage.setItem("isAuthenticated","true"),sessionStorage.setItem("userId",r.data.userId),sessionStorage.setItem("name",r.data.name),sessionStorage.setItem("lastname",r.data.lastname),e.push("/inventory")):h(r.data.message)}catch(e){h(e?.response?.data?.message||"Error al iniciar sesi\xf3n.")}finally{v(!1)}};return(0,n.jsx)("div",{className:o().container,children:(0,n.jsxs)("div",{className:o().loginBox,children:[(0,n.jsx)("div",{className:o().leftSide,children:(0,n.jsx)(c.default,{src:u,alt:"Banner",fill:!0,sizes:"(max-width: 768px) 100vw, 50vw",className:o().image,style:{objectFit:"cover"}})}),(0,n.jsxs)("div",{className:o().rightSide,children:[(0,n.jsx)("h2",{className:`${o().loginTitle} ${p().className}`,children:"INICIAR SESI\xd3N"}),m&&(0,n.jsx)("p",{className:o().errorMessage,children:m}),(0,n.jsxs)("form",{onSubmit:y,className:o().form,children:[(0,n.jsxs)("div",{className:o().inputWrapper,children:[(0,n.jsx)(x,{className:o().inputIcon}),(0,n.jsx)("input",{type:"text",placeholder:"Usuario",autoComplete:"username",autoFocus:!0,required:!0,className:o().inputField,value:t,onChange:e=>r(e.target.value)})]}),(0,n.jsxs)("div",{className:o().inputWrapper,children:[(0,n.jsx)(j,{className:o().inputIcon}),(0,n.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",autoComplete:"current-password",required:!0,className:o().inputField,value:s,onChange:e=>d(e.target.value)})]}),(0,n.jsx)("button",{className:o().signInButton,type:"submit",disabled:f,children:f?"Cargando...":"INGRESAR"})]})]})]})})}},62:(e,t,r)=>{"use strict";r.d(t,{$O:()=>E,B_:()=>_,Dv:()=>j,F4:()=>x,Gq:()=>v,JS:()=>f,LD:()=>g,O0:()=>N,Op:()=>P,RG:()=>D,Rn:()=>O,TK:()=>p,bW:()=>w,fk:()=>b,hG:()=>h,ik:()=>k,kg:()=>d,kl:()=>m,lX:()=>I,lo:()=>u,p9:()=>S,pr:()=>c,qZ:()=>C,te:()=>A,wE:()=>y});let n="https://v14m7300-4000.brs.devtunnels.ms";async function s(e,t={}){let r=`${n}/${e}`;try{let e=await fetch(r,t),n=await e.json();return{status:e.status,data:n}}catch(e){throw console.error("Error en la solicitud:",e),e}}async function o(e){return s(e,{method:"GET"})}async function a(e,t){let r=t instanceof FormData;return s(e,{method:"POST",headers:r?void 0:{"Content-Type":"application/json"},body:r?t:JSON.stringify(t)})}async function i(e,t){let r=t instanceof FormData;return s(e,{method:"PUT",headers:r?void 0:{"Content-Type":"application/json"},body:r?t:JSON.stringify(t)})}async function l(e){return s(e,{method:"DELETE"})}async function c(e,t){return a("auth/login",{username:e,password:t})}async function u(){return o("activos")}async function d(e){return a("users",e)}let p=(e,t)=>{let r=t instanceof FormData;return fetch(`${n}/users/${e}`,{method:"PUT",headers:r?void 0:{"Content-Type":"application/json"},body:r?t:JSON.stringify(t)}).then(async e=>{let t=await e.json();if(!e.ok)throw Error(t.message||"Error al actualizar usuario");return{status:e.status,data:t}})},m=async e=>{let t=await fetch(`https://v14m7300-4000.brs.devtunnels.ms/users/${e}`);if(!t.ok)throw Error("No se pudo obtener el usuario");return t.json()};async function h(e){return l(`users/${e}`)}async function f(){return o("items")}async function v(e){return o(`items/${e}`)}async function y(e){return a("items",e)}async function b(e,t){return i(`items/${e}`,t)}async function g(e){return l(`items/${e}`)}async function w(e){return o(`categories/${e}`)}async function j(e){return o(`stores/${e}`)}async function x(){return o("machines")}async function _(e){return o(`machines/${e}`)}async function P(e){return a("machines",e)}async function A(e,t){return i(`machines/${e}`,t)}async function O(e){return l(`machines/${e}`)}async function S(){return o("branches")}async function N(){return o("roles")}let E=async({userId:e,month:t,year:r,mode:n})=>{let s=new URLSearchParams;e&&s.append("userId",e),t&&"month"===n&&s.append("month",t),r&&s.append("year",r),n&&s.append("mode",n);let o=await fetch(`https://v14m7300-4000.brs.devtunnels.ms/api/transactions/report?${s.toString()}`);if(!o.ok)throw Error("Error al obtener datos");return o.json()},I=async e=>{let t=await fetch(`https://v14m7300-4000.brs.devtunnels.ms/api/transactions/report/item-movements?itemId=${e}`);if(!t.ok)throw Error("No se pudo obtener el reporte de movimientos del \xedtem");return t.json()},C=async({userId:e,month:t,year:r,codigoitem:s})=>{let o=new URLSearchParams;e&&o.append("userId",e),t&&o.append("month",t),r&&o.append("year",r),s&&o.append("codigoitem",s);let a=await fetch(`${n}/api/transactions/report/user-detailed?${o.toString()}`);if(!a.ok)throw Error("No se pudo obtener el reporte detallado del usuario");return a.json()},D=async(e={})=>{let t=new URLSearchParams(e).toString(),r=await fetch(`https://v14m7300-4000.brs.devtunnels.ms/api/transactions/report/all-transactions?${t}`);if(!r.ok)throw Error("No se pudo obtener el reporte completo");return r.json()},k=async(e,t,r,n,s)=>{let o=new URLSearchParams;t&&o.append("year",t),r&&o.append("month",r),n&&o.append("userid",n),s&&o.append("branchId",s);let a=`https://v14m7300-4000.brs.devtunnels.ms/api/reportes/asignaciones/${e}?${o.toString()}`,i=await fetch(a);if(!i.ok)throw Error("No se pudo obtener el reporte de asignaciones");return i.json()}},6576:e=>{e.exports={container:"login_container__I6N6n",loginBox:"login_loginBox__mo1yp",fadeIn:"login_fadeIn__CeVrm",leftSide:"login_leftSide__5xd3C",rightSide:"login_rightSide__7mZ9z",loginTitle:"login_loginTitle__l5db5",form:"login_form__63hIg",inputWrapper:"login_inputWrapper__S1OEk",inputIcon:"login_inputIcon__liYVw",inputField:"login_inputField__2yA_l",errorMessage:"login_errorMessage__jeRLt",signInButton:"login_signInButton__an1N1"}},2804:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(2740);function s({children:e}){return(0,n.jsxs)("html",{lang:"es",children:[(0,n.jsx)("head",{}),(0,n.jsx)("body",{children:e})]})}},9337:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Ideapad\\\\OneDrive\\\\Documentos\\\\GitHub\\\\Deploy\\\\TornemecWebDeploy\\\\src\\\\app\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Ideapad\\OneDrive\\Documentos\\GitHub\\Deploy\\TornemecWebDeploy\\src\\app\\page.js","default")},440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(8077);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[638,403,270],()=>r(2521));module.exports=n})();